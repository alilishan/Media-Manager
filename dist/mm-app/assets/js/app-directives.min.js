function MainContentDirective(i,e){return{restrict:"C",link:function(i,n,t){function o(){$(document).ready(function(i){i(n).css({position:"absolute",height:i(window).innerHeight()-160+"px",overflow:"auto",left:"0",top:"101px"})}),$(window).resize(function(){o()})}e(function(){o()},0)}}}function UploadContentList(i,e){return{restrict:"C",link:function(i,n,t){function o(){$(document).ready(function(i){i(n).css({height:i(window).innerHeight()-180+"px",overflow:"auto"})}),$(window).resize(function(){o()})}e(function(){o()},0)}}}function MainContentDirective(i,e){return{restrict:"C",link:function(i,n,t){function o(){$(document).ready(function(i){i(n).css({position:"absolute",height:i(window).innerHeight()-160+"px",overflow:"auto",left:"0",top:"101px"})}),$(window).resize(function(){o()})}e(function(){o()},0)}}}function ListItemDraggable(i){return{restrict:"A",scope:{mmItemDraggable:"=",mmIdrgModel:"="},link:function(e,n,t){function o(){$(document).ready(function(i){i(n).draggable({delay:100,start:function(){if(!e.mmItemDraggable)return!1},appendTo:"body",cursorAt:{left:-10,top:-10},helper:function(n){for(var t=e.mmIdrgModel.items,o=i('<div class="mm-item-drag-helper"></div>'),c=0;c<t.length;c++){var r="fa";switch(t[c].type){case"image":r+=" fa-image";break;case"video":r+=" fa-film";break;default:r+=" fa-file-code-o"}i('<div><i class="'+r+'"></i></div>').addClass("item-icon").css({width:50,height:50,padding:"3px 0 0 3px",margin:0,position:"absolute",overflow:"hidden","z-index":"-"+c}).appendTo(o).animate({width:25,height:25,left:c%3*27,top:27*parseInt(c/3)},320)}return o}})})}i(function(){o()},0)}}}function SidebarDroppable(i,e){return{restrict:"cursorAt",scope:{mmSidebarDroppable:"&"},link:function(i,n,t){function o(){$(document).ready(function(e){e(n).droppable({accept:".media-item",hoverClass:"drop-hover",tolerance:"pointer",drop:function(e,n){i.mmSidebarDroppable()}})})}e(function(){o()},0)}}}function myEnter(){return function(i,e,n){e.bind("keydown keypress",function(e){13===e.which&&(i.$apply(function(){i.$eval(n.myEnter)}),e.preventDefault())})}}function FileinputChangeDirective(i){return{restrict:"A",scope:{ngMultiple:"="},link:function(e,n,t){function o(){n.on("change",function(i){i.preventDefault();var n=void 0!==i.target.files?i.target.files:i.target.value?{name:i.target.value.replace(/^.+\\/,"")}:null;e.$eval("$parent."+t.ngOnChange)(n)}),e.$watch("ngMultiple",function(i,e){i&&n.attr("multiple","")},!0),e.$on("FILEUPLOAD-CLOSED",function(){setTimeout(function(){n.val("")},1e3)})}i(function(){o()},0)}}}function FileinputDropzoneDirective(){return{restrict:"A",scope:{ngMultiple:"=",ngOnChange:"&"},link:function(i,n,t){console.log("Ignoring single select for now. Its set as:",i.ngMultiple),!!(window.File&&window.FileReader&&window.FileList&&window.Blob)?($(window).draghover().on({draghoverstart:function(){$("body").addClass("on-drop-hover")},draghoverend:function(){$("body").removeClass("on-drop-hover")}}),$("body").on("dragover",function(i){return!1}).on("drop",function(n){$("body").removeClass("on-drop-hover");var o=n.originalEvent.dataTransfer;if(o){var c=void 0!==o.files?o.files:e.target.value?{name:e.target.value.replace(/^.+\\/,"")}:null;i.$eval("$parent."+t.ngOnChange)(c)}return!1})):n.addClass("no-drop-support")}}}function ImagePreviewDirective(i,e){!e.FileReader||e.CanvasRenderingContext2D;return{restrict:"A",link:function(i,e,n){function t(i,n){$(e).css({"background-image":"url("+i+")","background-size":"cover","background-color":"transparent","background-repeat":"no-repeat","background-position":"center center"})}if(n.hasOwnProperty("ngModel")){var o=i.$eval(n.ngModel),c=o.type.split("/")[0];if("video"==c)return t("data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDU4IDU4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OCA1ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+CjxyZWN0IHg9IjEiIHk9IjciIHN0eWxlPSJmaWxsOiM3MzgzQkY7c3Ryb2tlOiM0MjRBNjA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7IiB3aWR0aD0iNTYiIGhlaWdodD0iNDQiLz4KPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMjUsMzYgMjUsMjguOTU0IDI1LDIyIDM2LDI5ICIvPgo8cmVjdCB4PSIxIiB5PSI3IiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxyZWN0IHg9IjEiIHk9IjE4IiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxyZWN0IHg9IjEiIHk9IjI5IiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxyZWN0IHg9IjEiIHk9IjQwIiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxyZWN0IHg9IjQ3IiB5PSI3IiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxyZWN0IHg9IjQ3IiB5PSIxOCIgc3R5bGU9ImZpbGw6IzU1NjA4MDtzdHJva2U6IzQyNEE2MDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMSIvPgo8cmVjdCB4PSI0NyIgeT0iMjkiIHN0eWxlPSJmaWxsOiM1NTYwODA7c3Ryb2tlOiM0MjRBNjA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTA7IiB3aWR0aD0iMTAiIGhlaWdodD0iMTEiLz4KPHJlY3QgeD0iNDciIHk9IjQwIiBzdHlsZT0iZmlsbDojNTU2MDgwO3N0cm9rZTojNDI0QTYwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjExIi8+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo="),!1;if("audio"==c)return t("data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDU0Ljg4OCA1NC44ODgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDU0Ljg4OCA1NC44ODg7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPgo8cGF0aCBzdHlsZT0iZmlsbDojRUE2MjQ4OyIgZD0iTTUyLjEwNCwwLjI0OWMtMC4yMTYtMC4xODktMC41MDEtMC4yNzUtMC43ODktMC4yNDFsLTMxLDQuMDExYy0wLjQ5OSwwLjA2NS0wLjg3MiwwLjQ4OS0wLjg3MiwwLjk5MiAgdjYuMDE3djQuMjEydjI2LjAzNUMxNy43MDYsMzkuMjg1LDE0Ljk5NywzOCwxMS45NDQsMzhjLTUuMjQ3LDAtOS41LDMuNzgxLTkuNSw4LjQ0NHM0LjI1Myw4LjQ0NCw5LjUsOC40NDRzOS41LTMuNzgxLDkuNS04LjQ0NCAgYzAtMC4zMzItMC4wMjctMC42NTgtMC4wNjktMC45ODFjMC4wNC0wLjEwOCwwLjA2OS0wLjIyMSwwLjA2OS0wLjM0M1YxNi4xMThsMjktMy43NTN2MTguOTA5QzQ4LjcwNiwyOS4yODUsNDUuOTk3LDI4LDQyLjk0NCwyOCAgYy01LjI0NywwLTkuNSwzLjc4MS05LjUsOC40NDRzNC4yNTMsOC40NDQsOS41LDguNDQ0czkuNS0zLjc4MSw5LjUtOC40NDRjMC0wLjA5Mi0wLjAxMi0wLjE4MS0wLjAxNS0wLjI3MiAgYzAuMDAyLTAuMDI3LDAuMDE1LTAuMDUsMC4wMTUtMC4wNzdWMTEuMjI3VjcuMDE2VjFDNTIuNDQ0LDAuNzEyLDUyLjMyLDAuNDM4LDUyLjEwNCwwLjI0OXoiLz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg=="),!1;var r=new FileReader;r.onload=function(i){var e=new Image;e.onload=function(){t(this.src)},e.src=i.target.result},r.readAsDataURL(o)}}}}angular.module("mediaManager").directive("mmMaincontent",["$rootScope","$timeout",MainContentDirective]).directive("contentSec",["$rootScope","$timeout",UploadContentList]).directive("mmItemDraggable",["$timeout",ListItemDraggable]).directive("mmSidebarDroppable",["$rootScope","$timeout",SidebarDroppable]).directive("myEnter",myEnter),angular.module("mediaManager").directive("mmOnChange",["$timeout",FileinputChangeDirective]).directive("mmDropzone",FileinputDropzoneDirective).directive("mmThumb",["$timeout","$window",ImagePreviewDirective]),$.fn.draghover=function(i){return this.each(function(){var i=$(),e=$(this);e.on("dragenter",function(n){0===i.length&&e.trigger("draghoverstart"),i=i.add(n.target)}),e.on("dragleave drop",function(n){0===(i=i.not(n.target)).length&&e.trigger("draghoverend")})})};