/*! media-manager - v2.3.0 - 2017-10-12 */

(function(){function e(e){function n(n,t,o,r,i,a){for(;i>=0&&a>i;i+=e){var l=r?r[i]:i;o=t(o,n[l],l,n)}return o}return function(t,o,r,i){o=b(o,i,4);var a=!N(t)&&y.keys(t),l=(a||t).length,s=e>0?0:l-1;return arguments.length<3&&(r=t[a?a[s]:s],s+=e),n(t,o,r,a,s,l)}}function n(e){return function(n,t,o){t=w(t,o);for(var r=E(n),i=e>0?0:r-1;i>=0&&r>i;i+=e)if(t(n[i],i,n))return i;return-1}}function t(e,n,t){return function(o,r,i){var a=0,l=E(o);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+l,a):l=i>=0?Math.min(i+1,l):i+l+1;else if(t&&i&&l)return i=t(o,r),o[i]===r?i:-1;if(r!==r)return(i=n(c.call(o,a,l),y.isNaN))>=0?i+a:-1;for(i=e>0?a:l-1;i>=0&&l>i;i+=e)if(o[i]===r)return i;return-1}}function o(e,n){var t=O.length,o=e.constructor,r=y.isFunction(o)&&o.prototype||l,i="constructor";for(y.has(e,i)&&!y.contains(n,i)&&n.push(i);t--;)(i=O[t])in e&&e[i]!==r[i]&&!y.contains(n,i)&&n.push(i)}var r=this,i=r._,a=Array.prototype,l=Object.prototype,s=Function.prototype,u=a.push,c=a.slice,d=l.toString,p=l.hasOwnProperty,f=Array.isArray,h=Object.keys,g=s.bind,m=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,o){return e.call(n,t,o)};case 3:return function(t,o,r){return e.call(n,t,o,r)};case 4:return function(t,o,r,i){return e.call(n,t,o,r,i)}}return function(){return e.apply(n,arguments)}},w=function(e,n,t){return null==e?y.identity:y.isFunction(e)?b(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return w(e,n,1/0)};var $=function(e,n){return function(t){var o=arguments.length;if(2>o||null==t)return t;for(var r=1;o>r;r++)for(var i=arguments[r],a=e(i),l=a.length,s=0;l>s;s++){var u=a[s];n&&void 0!==t[u]||(t[u]=i[u])}return t}},x=function(e){if(!y.isObject(e))return{};if(m)return m(e);v.prototype=e;var n=new v;return v.prototype=null,n},C=function(e){return function(n){return null==n?void 0:n[e]}},S=Math.pow(2,53)-1,E=C("length"),N=function(e){var n=E(e);return"number"==typeof n&&n>=0&&S>=n};y.each=y.forEach=function(e,n,t){n=b(n,t);var o,r;if(N(e))for(o=0,r=e.length;r>o;o++)n(e[o],o,e);else{var i=y.keys(e);for(o=0,r=i.length;r>o;o++)n(e[i[o]],i[o],e)}return e},y.map=y.collect=function(e,n,t){n=w(n,t);for(var o=!N(e)&&y.keys(e),r=(o||e).length,i=Array(r),a=0;r>a;a++){var l=o?o[a]:a;i[a]=n(e[l],l,e)}return i},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var o;return void 0!==(o=N(e)?y.findIndex(e,n,t):y.findKey(e,n,t))&&-1!==o?e[o]:void 0},y.filter=y.select=function(e,n,t){var o=[];return n=w(n,t),y.each(e,function(e,t,r){n(e,t,r)&&o.push(e)}),o},y.reject=function(e,n,t){return y.filter(e,y.negate(w(n)),t)},y.every=y.all=function(e,n,t){n=w(n,t);for(var o=!N(e)&&y.keys(e),r=(o||e).length,i=0;r>i;i++){var a=o?o[i]:i;if(!n(e[a],a,e))return!1}return!0},y.some=y.any=function(e,n,t){n=w(n,t);for(var o=!N(e)&&y.keys(e),r=(o||e).length,i=0;r>i;i++){var a=o?o[i]:i;if(n(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,o){return N(e)||(e=y.values(e)),("number"!=typeof t||o)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),o=y.isFunction(n);return y.map(e,function(e){var r=o?n:e[n];return null==r?r:r.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var o,r,i=-1/0,a=-1/0;if(null==n&&null!=e)for(var l=0,s=(e=N(e)?e:y.values(e)).length;s>l;l++)(o=e[l])>i&&(i=o);else n=w(n,t),y.each(e,function(e,t,o){((r=n(e,t,o))>a||r===-1/0&&i===-1/0)&&(i=e,a=r)});return i},y.min=function(e,n,t){var o,r,i=1/0,a=1/0;if(null==n&&null!=e)for(var l=0,s=(e=N(e)?e:y.values(e)).length;s>l;l++)o=e[l],i>o&&(i=o);else n=w(n,t),y.each(e,function(e,t,o){r=n(e,t,o),(a>r||1/0===r&&1/0===i)&&(i=e,a=r)});return i},y.shuffle=function(e){for(var n,t=N(e)?e:y.values(e),o=t.length,r=Array(o),i=0;o>i;i++)(n=y.random(0,i))!==i&&(r[i]=r[n]),r[n]=t[i];return r},y.sample=function(e,n,t){return null==n||t?(N(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=w(n,t),y.pluck(y.map(e,function(e,t,o){return{value:e,index:t,criteria:n(e,t,o)}}).sort(function(e,n){var t=e.criteria,o=n.criteria;if(t!==o){if(t>o||void 0===t)return 1;if(o>t||void 0===o)return-1}return e.index-n.index}),"value")};var T=function(e){return function(n,t,o){var r={};return t=w(t,o),y.each(n,function(o,i){var a=t(o,i,n);e(r,o,a)}),r}};y.groupBy=T(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=T(function(e,n,t){e[t]=n}),y.countBy=T(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):N(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:N(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=w(n,t);var o=[],r=[];return y.each(e,function(e,t,i){(n(e,t,i)?o:r).push(e)}),[o,r]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var A=function(e,n,t,o){for(var r=[],i=0,a=o||0,l=E(e);l>a;a++){var s=e[a];if(N(s)&&(y.isArray(s)||y.isArguments(s))){n||(s=A(s,n,t));var u=0,c=s.length;for(r.length+=c;c>u;)r[i++]=s[u++]}else t||(r[i++]=s)}return r};y.flatten=function(e,n){return A(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,o){y.isBoolean(n)||(o=t,t=n,n=!1),null!=t&&(t=w(t,o));for(var r=[],i=[],a=0,l=E(e);l>a;a++){var s=e[a],u=t?t(s,a,e):s;n?(a&&i===u||r.push(s),i=u):t?y.contains(i,u)||(i.push(u),r.push(s)):y.contains(r,s)||r.push(s)}return r},y.union=function(){return y.uniq(A(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,o=0,r=E(e);r>o;o++){var i=e[o];if(!y.contains(n,i)){for(var a=1;t>a&&y.contains(arguments[a],i);a++);a===t&&n.push(i)}}return n},y.difference=function(e){var n=A(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,E).length||0,t=Array(n),o=0;n>o;o++)t[o]=y.pluck(e,o);return t},y.object=function(e,n){for(var t={},o=0,r=E(e);r>o;o++)n?t[e[o]]=n[o]:t[e[o][0]]=e[o][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,o){for(var r=(t=w(t,o,1))(n),i=0,a=E(e);a>i;){var l=Math.floor((i+a)/2);t(e[l])<r?i=l+1:a=l}return i},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var o=Math.max(Math.ceil((n-e)/t),0),r=Array(o),i=0;o>i;i++,e+=t)r[i]=e;return r};var k=function(e,n,t,o,r){if(!(o instanceof n))return e.apply(t,r);var i=x(e.prototype),a=e.apply(i,r);return y.isObject(a)?a:i};y.bind=function(e,n){if(g&&e.bind===g)return g.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),o=function(){return k(e,o,n,this,t.concat(c.call(arguments)))};return o},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var o=0,r=n.length,i=Array(r),a=0;r>a;a++)i[a]=n[a]===y?arguments[o++]:n[a];for(;o<arguments.length;)i.push(arguments[o++]);return k(e,t,this,this,i)};return t},y.bindAll=function(e){var n,t,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(n=1;o>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(o){var r=t.cache,i=""+(n?n.apply(this,arguments):o);return y.has(r,i)||(r[i]=e.apply(this,arguments)),r[i]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var o,r,i,a=null,l=0;t||(t={});var s=function(){l=!1===t.leading?0:y.now(),a=null,i=e.apply(o,r),a||(o=r=null)};return function(){var u=y.now();l||!1!==t.leading||(l=u);var c=n-(u-l);return o=this,r=arguments,0>=c||c>n?(a&&(clearTimeout(a),a=null),l=u,i=e.apply(o,r),a||(o=r=null)):a||!1===t.trailing||(a=setTimeout(s,c)),i}},y.debounce=function(e,n,t){var o,r,i,a,l,s=function(){var u=y.now()-a;n>u&&u>=0?o=setTimeout(s,n-u):(o=null,t||(l=e.apply(i,r),o||(i=r=null)))};return function(){i=this,r=arguments,a=y.now();var u=t&&!o;return o||(o=setTimeout(s,n)),u&&(l=e.apply(i,r),i=r=null),l}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,o=e[n].apply(this,arguments);t--;)o=e[t].call(this,o);return o}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(h)return h(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return M&&o(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return M&&o(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,o=Array(t),r=0;t>r;r++)o[r]=e[n[r]];return o},y.mapObject=function(e,n,t){n=w(n,t);for(var o,r=y.keys(e),i=r.length,a={},l=0;i>l;l++)o=r[l],a[o]=n(e[o],o,e);return a},y.pairs=function(e){for(var n=y.keys(e),t=n.length,o=Array(t),r=0;t>r;r++)o[r]=[n[r],e[n[r]]];return o},y.invert=function(e){for(var n={},t=y.keys(e),o=0,r=t.length;r>o;o++)n[e[t[o]]]=t[o];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=$(y.allKeys),y.extendOwn=y.assign=$(y.keys),y.findKey=function(e,n,t){n=w(n,t);for(var o,r=y.keys(e),i=0,a=r.length;a>i;i++)if(o=r[i],n(e[o],o,e))return o},y.pick=function(e,n,t){var o,r,i={},a=e;if(null==a)return i;y.isFunction(n)?(r=y.allKeys(a),o=b(n,t)):(r=A(arguments,!1,!1,1),o=function(e,n,t){return n in t},a=Object(a));for(var l=0,s=r.length;s>l;l++){var u=r[l],c=a[u];o(c,u,a)&&(i[u]=c)}return i},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var o=y.map(A(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(o,n)}}return y.pick(e,n,t)},y.defaults=$(y.allKeys,!0),y.create=function(e,n){var t=x(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),o=t.length;if(null==e)return!o;for(var r=Object(e),i=0;o>i;i++){var a=t[i];if(n[a]!==r[a]||!(a in r))return!1}return!0};var D=function(e,n,t,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var r=d.call(e);if(r!==d.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var i="[object Array]"===r;if(!i){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,l=n.constructor;if(a!==l&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],o=o||[];for(var s=t.length;s--;)if(t[s]===e)return o[s]===n;if(t.push(e),o.push(n),i){if((s=e.length)!==n.length)return!1;for(;s--;)if(!D(e[s],n[s],t,o))return!1}else{var u,c=y.keys(e);if(s=c.length,y.keys(n).length!==s)return!1;for(;s--;)if(u=c[s],!y.has(n,u)||!D(e[u],n[u],t,o))return!1}return t.pop(),o.pop(),!0};y.isEqual=function(e,n){return D(e,n)},y.isEmpty=function(e){return null==e||(N(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return d.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&p.call(e,n)},y.noConflict=function(){return r._=i,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=C,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var o=Array(Math.max(0,e));n=b(n,t,1);for(var r=0;e>r;r++)o[r]=n(r);return o},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=y.invert(V),B=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",o=RegExp(t),r=RegExp(t,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(r,n):e}};y.escape=B(V),y.unescape=B(H),y.result=function(e,n,t){var o=null==e?void 0:e[n];return void 0===o&&(o=t),y.isFunction(o)?o.call(e):o};var I=0;y.uniqueId=function(e){var n=++I+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+j[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var o=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),r=0,i="__p+='";e.replace(o,function(n,t,o,a,l){return i+=e.slice(r,l).replace(L,q),r=l+n.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":o?i+="'+\n((__t=("+o+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),n}),i+="';\n",n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(n.variable||"obj","_",i)}catch(e){throw e.source=i,e}var l=function(e){return a.call(this,e,y)},s=n.variable||"obj";return l.source="function("+s+"){\n"+i+"}",l},y.chain=function(e){var n=y(e);return n._chain=!0,n};var Y=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return u.apply(e,arguments),Y(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],Y(this,t)}}),y.each(["concat","join","slice"],function(e){var n=a[e];y.prototype[e]=function(){return Y(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,n){function t(e){if(!e)return 0;var n,o,r,i=0,a=e.childNodes();if(!a||0===a.length)return 0;for(r=a.length-1;r>=0;r--)n=a[r],o=1+t(n),i=Math.max(i,o);return i}this.scope=e,e.$element=n,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(t){var o=t[0];e.$treeScope=t[1]?t[1].scope:null,e.$parentNodeScope=o.scope.$nodeScope,e.$modelValue=o.scope.$modelValue[e.$index],e.$parentNodesScope=o.scope,o.scope.initSubNode(e),n.on("$destroy",function(){o.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(n){return e.$parentNodesScope==n.$parentNodesScope},e.isChild=function(n){var t=e.childNodes();return t&&t.indexOf(n)>-1},e.prev=function(){var n=e.index();return n>0?e.siblings()[n-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(n,t){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(n,t)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var n=e.$parentNodeScope;return n?n.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?t(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(n){return n.$modelValue?void(e.$nodesMap[n.$modelValue.$$hashKey]=n):null},e.destroySubNode=function(n){return n.$modelValue?void(e.$nodesMap[n.$modelValue.$$hashKey]=null):null},e.accept=function(n,t){return e.$treeScope.$callbacks.accept(n,e,t)},e.beforeDrag=function(n){return e.$treeScope.$callbacks.beforeDrag(n)},e.isParent=function(n){return n.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var n=this.$root.$$phase;"$apply"==n||"$digest"==n?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(n){var t=e.$modelValue.indexOf(n.$modelValue);return t>-1?(e.safeApply(function(){e.$modelValue.splice(t,1)[0]}),e.$treeScope.$callbacks.removed(n)):null},e.insertNode=function(n,t){e.safeApply(function(){e.$modelValue.splice(n,0,t)})},e.childNodes=function(){var n,t=[];if(e.$modelValue)for(n=0;n<e.$modelValue.length;n++)t.push(e.$nodesMap[e.$modelValue[n].$$hashKey]);return t},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(n){var t=e.maxDepth||e.$treeScope.maxDepth;return t>0&&e.depth()+n.maxSubDepth()+1>t}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$dropzoneElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.dropzoneEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(n){e.$nodesScope.$element.append(n),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():n.append(e.$emptyElm)},this.resetDropzoneElement=function(){e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length||!e.dropzoneEnabled?e.$dropzoneElm.remove():n.append(e.$dropzoneElm)},e.resetEmptyElement=this.resetEmptyElement,e.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,n){return{restrict:"A",scope:!0,controller:"TreeController",link:function(t,o,r,i){var a,l,s,u={accept:null,beforeDrag:null},c={};angular.extend(c,e),c.treeClass&&o.addClass(c.treeClass),"table"===o.prop("tagName").toLowerCase()?(t.$emptyElm=angular.element(n.document.createElement("tr")),l=o.find("tr"),s=l.length>0?angular.element(l).children().length:1e6,a=angular.element(n.document.createElement("td")).attr("colspan",s),t.$emptyElm.append(a)):(t.$emptyElm=angular.element(n.document.createElement("div")),t.$dropzoneElm=angular.element(n.document.createElement("div"))),c.emptyTreeClass&&t.$emptyElm.addClass(c.emptyTreeClass),c.dropzoneClass&&t.$dropzoneElm.addClass(c.dropzoneClass),t.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&(i.resetEmptyElement(),i.resetDropzoneElement())},!0),t.$watch(r.dragEnabled,function(e){"boolean"==typeof e&&(t.dragEnabled=e)}),t.$watch(r.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(t.emptyPlaceholderEnabled=e,i.resetEmptyElement())}),t.$watch(r.nodropEnabled,function(e){"boolean"==typeof e&&(t.nodropEnabled=e)}),t.$watch(r.dropzoneEnabled,function(e){"boolean"==typeof e&&(t.dropzoneEnabled=e,i.resetDropzoneElement())}),t.$watch(r.cloneEnabled,function(e){"boolean"==typeof e&&(t.cloneEnabled=e)}),t.$watch(r.maxDepth,function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(r.dragDelay,function(e){"number"==typeof e&&(t.dragDelay=e)}),u.accept=function(e,n,t){return!(n.nodropEnabled||n.$treeScope.nodropEnabled||n.outOfDepth(e))},u.beforeDrag=function(e){return!0},u.expandTimeoutStart=function(){},u.expandTimeoutCancel=function(){},u.expandTimeoutEnd=function(){},u.removed=function(e){},u.dropped=function(e){},u.dragStart=function(e){},u.dragMove=function(e){},u.dragStop=function(e){},u.beforeDrop=function(e){},u.toggle=function(e,n){},t.$watch(r.uiTree,function(e,n){angular.forEach(e,function(e,n){u[n]&&"function"==typeof e&&(u[n]=e)}),t.$callbacks=u},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(n,t,o,r){var i={};angular.extend(i,e),i.handleClass&&t.addClass(i.handleClass),n!=r.scope&&(n.$nodeScope=r.scope,r.scope.$handleScope=n)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,n,t,o,r,i){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,l,s,u){var c,d,p,f,h,g,m,v,y,b,w,$,x,C,S,E,N,T,A,k,M,O,D,V,H,B,I,P={},j="ontouchstart"in window,L=null,q=document.body,Y=document.documentElement;angular.extend(P,e),P.nodeClass&&l.addClass(P.nodeClass),a.init(u),a.collapsed=!!n.getNodeAttribute(a,"collapsed")||e.defaultCollapsed,a.expandOnHover=!!n.getNodeAttribute(a,"expandOnHover"),a.scrollContainer=n.getNodeAttribute(a,"scrollContainer")||s.scrollContainer||null,a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(s.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){n.setNodeAttribute(a,"collapsed",e),s.$set("collapsed",e)}),a.$watch(s.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(a.expandOnHover=e)}),a.$watch("expandOnHover",function(e){n.setNodeAttribute(a,"expandOnHover",e),s.$set("expandOnHover",e)}),s.$observe("scrollContainer",function(e){"string"==typeof e&&(a.scrollContainer=e)}),a.$watch("scrollContainer",function(e){n.setNodeAttribute(a,"scrollContainer",e),s.$set("scrollContainer",e),m=document.querySelector(e)}),a.$on("angular-ui-tree:collapse-all",function(){a.collapsed=!0}),a.$on("angular-ui-tree:expand-all",function(){a.collapsed=!1}),$=function(e){if((j||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var r,i,s,u,m,v,$,x,C,S=angular.element(e.target);if((r=n.treeNodeHandlerContainerOfElement(S))&&(S=angular.element(r)),i=l.clone(),x=n.elementIsTreeNode(S),C=n.elementIsTreeNodeHandle(S),(x||C)&&!(x&&n.elementContainsTreeNodeHandler(S)||"input"==(s=S.prop("tagName").toLowerCase())||"textarea"==s||"button"==s||"select"==s)){for(H=angular.element(e.target),B=H[0].attributes["ui-tree"];H&&H[0]&&H[0]!==l&&!B;){if(H[0].attributes&&(B=H[0].attributes["ui-tree"]),n.nodrag(H))return;H=H.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),m=n.eventObj(e),c=!0,d=n.dragInfo(a),I=d.source.$treeScope.$id,"tr"===(u=l.prop("tagName")).toLowerCase()?(f=angular.element(t.document.createElement(u)),v=angular.element(t.document.createElement("td")).addClass(P.placeholderClass).attr("colspan",l[0].children.length),f.append(v)):f=angular.element(t.document.createElement(u)).addClass(P.placeholderClass),h=angular.element(t.document.createElement(u)),P.hiddenClass&&h.addClass(P.hiddenClass),p=n.positionStarted(m,l),f.css("height",l.prop("offsetHeight")+"px"),(g=angular.element(t.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(P.dragClass)).css("width",n.width(l)+"px"),g.css("z-index",9999),($=(l[0].querySelector(".angular-ui-tree-handle")||l[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",o.find("body").css("cursor")||""),o.find("body").css({cursor:$.cursor+"!important"})),a.sourceOnly&&f.css("display","none"),l.after(f),l.after(h),d.isClone()&&a.sourceOnly?g.append(i):g.append(l),o.find("body").append(g),g.css({left:m.pageX-p.offsetX+"px",top:m.pageY-p.offsetY+"px"}),y={placeholder:f,dragging:g},M(),a.$apply(function(){a.$treeScope.$callbacks.dragStart(d.eventArgs(y,p))}),b=Math.max(q.scrollHeight,q.offsetHeight,Y.clientHeight,Y.scrollHeight,Y.offsetHeight),w=Math.max(q.scrollWidth,q.offsetWidth,Y.clientWidth,Y.scrollWidth,Y.offsetWidth))}}},x=function(e){var o,i,l,s,u,h,$,x,C,S,E,N,T,A,k,M,O,D,H,B,j,q,Y=n.eventObj(e);if(g){if(e.preventDefault(),t.getSelection?t.getSelection().removeAllRanges():t.document.selection&&t.document.selection.empty(),i=Y.pageX-p.offsetX,l=Y.pageY-p.offsetY,i<0&&(i=0),l<0&&(l=0),l+10>b&&(l=b-10),i+10>w&&(i=w-10),g.css({left:i+"px",top:l+"px"}),m?(h=m.getBoundingClientRect(),s=m.scrollTop,u=s+m.clientHeight,h.bottom<Y.clientY&&u<m.scrollHeight&&(A=Math.min(m.scrollHeight-u,10),m.scrollTop+=A),h.top>Y.clientY&&s>0&&(k=Math.min(s,10),m.scrollTop-=k)):(s=window.pageYOffset||t.document.documentElement.scrollTop,(u=s+(window.innerHeight||t.document.clientHeight||t.document.clientHeight))<Y.pageY&&u<b&&(A=Math.min(b-u,10),window.scrollBy(0,A)),s>Y.pageY&&(k=Math.min(s,10),window.scrollBy(0,-k))),n.positionMoved(e,p,c),c)return void(c=!1);if(x=Y.pageX-(t.pageXOffset||t.document.body.scrollLeft||t.document.documentElement.scrollLeft)-(t.document.documentElement.clientLeft||0),C=Y.pageY-(t.pageYOffset||t.document.body.scrollTop||t.document.documentElement.scrollTop)-(t.document.documentElement.clientTop||0),angular.isFunction(g.hide)?g.hide():(S=g[0].style.display,g[0].style.display="none"),t.document.elementFromPoint(x,C),N=angular.element(t.document.elementFromPoint(x,C)),(V=n.treeNodeHandlerContainerOfElement(N))&&(N=angular.element(V)),angular.isFunction(g.show)?g.show():g[0].style.display=S,n.elementIsTree(N)?E=N.controller("uiTree").scope:n.elementIsTreeNodeHandle(N)?E=N.controller("uiTreeHandle").scope:n.elementIsTreeNode(N)?E=N.controller("uiTreeNode").scope:n.elementIsTreeNodes(N)?E=N.controller("uiTreeNodes").scope:n.elementIsPlaceholder(N)?E=N.controller("uiTreeNodes").scope:n.elementIsDropzone(N)?(E=N.controller("uiTree").scope,q=!0):N.controller("uiTreeNode")&&(E=N.controller("uiTreeNode").scope),E&&E.$treeScope&&E.$treeScope.$id&&E.$treeScope.$id===I&&p.dirAx)p.distX>0&&(o=d.prev())&&!o.collapsed&&o.accept(a,o.childNodesCount())&&(o.$childNodesScope.$element.append(f),d.moveTo(o.$childNodesScope,o.childNodes(),o.childNodesCount())),p.distX<0&&(d.next()||($=d.parentNode())&&$.$parentNodesScope.accept(a,$.index()+1)&&($.$element.after(f),d.moveTo($.$parentNodesScope,$.siblings(),$.index()+1)));else{if(T=!1,!E)return;if(!E.$treeScope||E.$parent.nodropEnabled||E.$treeScope.nodropEnabled||f.css("display",""),"uiTree"===E.$type&&E.dragEnabled&&(T=E.isEmpty()),"uiTreeHandle"===E.$type&&(E=E.$nodeScope),"uiTreeNode"!==E.$type&&!T&&!q)return void(P.appendChildOnHover&&!d.next()&&v&&(($=d.parentNode()).$element.after(f),d.moveTo($.$parentNodesScope,$.siblings(),$.index()+1),v=!1));L&&f.parent()[0]!=L.$element[0]&&(L.resetEmptyElement(),L.resetDropzoneElement(),L=null),T?(L=E,E.$nodesScope.accept(a,0)&&d.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),0)):q?(L=E,E.$nodesScope.accept(a,E.$nodesScope.childNodes().length)&&d.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),E.$nodesScope.childNodes().length)):E.dragEnabled()&&(angular.isDefined(a.expandTimeoutOn)&&a.expandTimeoutOn!==E.id&&(r.cancel(a.expandTimeout),delete a.expandTimeout,delete a.expandTimeoutOn,a.$callbacks.expandTimeoutCancel()),E.collapsed&&(!0===a.expandOnHover||angular.isNumber(a.expandOnHover)&&0===a.expandOnHover?(E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)):!1!==a.expandOnHover&&angular.isNumber(a.expandOnHover)&&a.expandOnHover>0&&angular.isUndefined(a.expandTimeoutOn)&&(a.expandTimeoutOn=E.$id,a.$callbacks.expandTimeoutStart(),a.expandTimeout=r(function(){a.$callbacks.expandTimeoutEnd(),E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)},a.expandOnHover))),N=E.$element,M=n.offset(N),H=n.height(N),B=E.$childNodesScope?E.$childNodesScope.$element:null,j=B?n.height(B):0,H-=j,D=P.appendChildOnHover?.25*H:n.height(N)/2,O=Y.pageY<M.top+D,E.$parentNodesScope.accept(a,E.index())?O?(N[0].parentNode.insertBefore(f[0],N[0]),d.moveTo(E.$parentNodesScope,E.siblings(),E.index())):P.appendChildOnHover&&E.accept(a,E.childNodesCount())?(E.$childNodesScope.$element.prepend(f),d.moveTo(E.$childNodesScope,E.childNodes(),0),v=!0):(N.after(f),d.moveTo(E.$parentNodesScope,E.siblings(),E.index()+1)):!O&&E.accept(a,E.childNodesCount())&&(E.$childNodesScope.$element.append(f),d.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount())))}a.$apply(function(){a.$treeScope.$callbacks.dragMove(d.eventArgs(y,p))})}},C=function(e){var n=d.eventArgs(y,p);e.preventDefault(),O(),r.cancel(a.expandTimeout),a.$treeScope.$apply(function(){i.when(a.$treeScope.$callbacks.beforeDrop(n)).then(function(e){!1!==e&&a.$$allowNodeDrop?(d.apply(),a.$treeScope.$callbacks.dropped(n)):k()}).catch(function(){k()}).finally(function(){h.replaceWith(a.$element),f.remove(),g&&(g.remove(),g=null),a.$treeScope.$callbacks.dragStop(n),a.$$allowNodeDrop=!1,d=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(o.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},S=function(e){a.dragEnabled()&&$(e)},E=function(e){x(e)},N=function(e){a.$$allowNodeDrop=!0,C(e)},T=function(e){C(e)},A=function(){var e;return{exec:function(n,t){t||(t=0),this.cancel(),e=r(n,t)},cancel:function(){r.cancel(e)}}}(),D=function(e){27===e.keyCode&&N(e)},(k=function(){l.bind("touchstart mousedown",function(e){a.dragDelay>0?A.exec(function(){S(e)},a.dragDelay):S(e)}),l.bind("touchend touchcancel mouseup",function(){a.dragDelay>0&&A.cancel()})})(),M=function(){angular.element(o).bind("touchend",N),angular.element(o).bind("touchcancel",N),angular.element(o).bind("touchmove",E),angular.element(o).bind("mouseup",N),angular.element(o).bind("mousemove",E),angular.element(o).bind("mouseleave",T),angular.element(o).bind("keydown",D)},O=function(){angular.element(o).unbind("touchend",N),angular.element(o).unbind("touchcancel",N),angular.element(o).unbind("touchmove",E),angular.element(o).unbind("mouseup",N),angular.element(o).unbind("mousemove",E),angular.element(o).unbind("mouseleave",T),angular.element(o).unbind("keydown",D)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(n,t,o,r){var i={},a=r[0],l=r[1],s=r[2];angular.extend(i,e),i.nodesClass&&t.addClass(i.nodesClass),l?(l.scope.$childNodesScope=n,n.$nodeScope=l.scope):s.scope.$nodesScope=n,n.$treeScope=s.scope,a&&(a.$render=function(){n.$modelValue=a.$modelValue}),n.$watch(function(){return o.maxDepth},function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(function(){return o.nodropEnabled},function(e){void 0!==e&&(n.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function e(e,n){if(void 0===n)return null;for(var t=n.parentNode,o="function"==typeof t.setAttribute&&t.hasAttribute(e)?t:null;t&&"function"==typeof t.setAttribute&&!t.hasAttribute(e);){if(t=t.parentNode,o=t,t===document.documentElement){o=null;break}0}return o}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(n,t,o){return{nodesData:{},setNodeAttribute:function(e,n,t){if(!e.$modelValue)return null;var o=this.nodesData[e.$modelValue.$$hashKey];o||(o={},this.nodesData[e.$modelValue.$$hashKey]=o),o[n]=t},getNodeAttribute:function(e,n){if(!e.$modelValue)return null;var t=this.nodesData[e.$modelValue.$$hashKey];return t?t[n]:null},nodrag:function(e){return void 0!==e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var n=e;return void 0!==e.targetTouches?n=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(n=e.originalEvent.targetTouches.item(0)),n},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:!0===e.$treeScope.cloneEnabled?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,n,t){this.parent=e,this.siblings=n.slice(0);var o=this.siblings.indexOf(this.source);o>-1&&(this.siblings.splice(o,1),this.source.index()<t&&t--),this.siblings.splice(t,0,this.source),this.index=t},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,n){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:n}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(e){var o=e[0].getBoundingClientRect();return{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:o.top+(t.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:o.left+(t.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}},positionStarted:function(e,n){var t={},o=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(o=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),t.offsetX=o-this.offset(n).left,t.offsetY=r-this.offset(n).top,t.startX=t.lastX=o,t.startY=t.lastY=r,t.nowX=t.nowY=t.distX=t.distY=t.dirAx=0,t.dirX=t.dirY=t.lastDirX=t.lastDirY=t.distAxX=t.distAxY=0,t},positionMoved:function(e,n,t){var o,r=e.pageX,i=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY),n.lastX=n.nowX,n.lastY=n.nowY,n.nowX=r,n.nowY=i,n.distX=n.nowX-n.lastX,n.distY=n.nowY-n.lastY,n.lastDirX=n.dirX,n.lastDirY=n.dirY,n.dirX=0===n.distX?0:n.distX>0?1:-1,n.dirY=0===n.distY?0:n.distY>0?1:-1,o=Math.abs(n.distX)>Math.abs(n.distY)?1:0,t?(n.dirAx=o,void(n.moving=!0)):(n.dirAx!==o?(n.distAxX=0,n.distAxY=0):(n.distAxX+=Math.abs(n.distX),0!==n.dirX&&n.dirX!==n.lastDirX&&(n.distAxX=0),n.distAxY+=Math.abs(n.distY),0!==n.dirY&&n.dirY!==n.lastDirY&&(n.distAxY=0)),void(n.dirAx=o))},elementIsTreeNode:function(e){return void 0!==e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return void 0!==e.attr("ui-tree-handle")},elementIsTree:function(e){return void 0!==e.attr("ui-tree")},elementIsTreeNodes:function(e){return void 0!==e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(o.placeholderClass)},elementIsDropzone:function(e){return e.hasClass(o.dropzoneClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(n){return e("ui-tree-handle",n[0])}}}])}(),angular.module("naturalSort",[]).factory("naturalService",["$locale",function(e){var n={},t=function(e){return"00000000000000000000".slice(e.length)},o="m"==e.DATETIME_FORMATS.shortDate.charAt(0);return fixDates=function(e){return e.replace(/(\d\d?)[-\/\.](\d\d?)[-\/\.](\d{4})/,function(e,n,t,r){var i=t;return o?Number(n)>12&&(t=n,n=i):Number(t)<13&&(t=n,n=i),r+"-"+n+"-"+t})},fixNumbers=function(e){return e.replace(/(\d+)((\.\d+)+)?/g,function(e,n,o,r){return o!==r?e.replace(/(\d+)/g,function(e){return t(e)+e}):(o=o||".0",t(n)+n+o+t(o))})},natValue=function(e){if(n[e])return n[e];var t=fixNumbers(fixDates(e));return n[e]=t},{naturalValue:natValue,naturalSort:function(e,n){return e=natVale(e),n=natValue(n),e<n?-1:e>n?1:0}}}]).run(["$rootScope","naturalService",function(e,n){e.natural=function(e){return function(t){return n.naturalValue(t[e])}}}]),angular.module("angular-growl",[]),angular.module("angular-growl").directive("growl",[function(){"use strict";return{restrict:"A",templateUrl:"templates/growl/growl.html",replace:!1,scope:{reference:"@",inline:"=",limitMessages:"="},controller:["$scope","$timeout","growl","growlMessages",function(e,n,t,o){e.referenceId=e.reference||0,o.initDirective(e.referenceId,e.limitMessages),e.growlMessages=o,e.inlineMessage=angular.isDefined(e.inline)?e.inline:t.inlineMessages(),e.$watch("limitMessages",function(n){var t=o.directives[e.referenceId];angular.isUndefined(n)||angular.isUndefined(t)||(t.limitMessages=n)}),e.stopTimeoutClose=function(e){e.clickToClose||(angular.forEach(e.promises,function(e){n.cancel(e)}),e.close?o.deleteMessage(e):e.close=!0)},e.alertClasses=function(e){return{"alert-success":"success"===e.severity,"alert-error":"error"===e.severity,"alert-danger":"error"===e.severity,"alert-info":"info"===e.severity,"alert-warning":"warning"===e.severity,icon:!1===e.disableIcons,"alert-dismissable":!e.disableCloseButton}},e.showCountDown=function(e){return!e.disableCountDown&&e.ttl>0},e.wrapperClasses=function(){var n={};return n["growl-fixed"]=!e.inlineMessage,n[t.position()]=!0,n},e.computeTitle=function(e){return{success:"Success",error:"Error",info:"Information",warn:"Warning"}[e.severity]}}]}}]),angular.module("angular-growl").run(["$templateCache",function(e){"use strict";void 0===e.get("templates/growl/growl.html")&&e.put("templates/growl/growl.html",'<div class="growl-container" ng-class="wrapperClasses()"><div class="growl-item alert" ng-repeat="message in growlMessages.directives[referenceId].messages" ng-class="alertClasses(message)" ng-click="stopTimeoutClose(message)"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="growlMessages.deleteMessage(message)" ng-show="!message.disableCloseButton">&times;</button><button type="button" class="close" aria-hidden="true" ng-show="showCountDown(message)">{{message.countdown}}</button><h4 class="growl-title" ng-show="message.title" ng-bind="message.title"></h4><div class="growl-message" ng-bind-html="message.text"></div></div></div>')}]),angular.module("angular-growl").provider("growl",function(){"use strict";var e={success:null,error:null,warning:null,info:null},n="messages",t="text",o="title",r="severity",i=!0,a="variables",l=0,s=!1,u="top-right",c=!1,d=!1,p=!1,f=!1,h=!0;this.globalTimeToLive=function(n){if("object"==typeof n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);else for(var o in e)e.hasOwnProperty(o)&&(e[o]=n);return this},this.globalTranslateMessages=function(e){return h=e,this},this.globalDisableCloseButton=function(e){return c=e,this},this.globalDisableIcons=function(e){return d=e,this},this.globalReversedOrder=function(e){return p=e,this},this.globalDisableCountDown=function(e){return f=e,this},this.messageVariableKey=function(e){return a=e,this},this.globalInlineMessages=function(e){return s=e,this},this.globalPosition=function(e){return u=e,this},this.messagesKey=function(e){return n=e,this},this.messageTextKey=function(e){return t=e,this},this.messageTitleKey=function(e){return o=e,this},this.messageSeverityKey=function(e){return r=e,this},this.onlyUniqueMessages=function(e){return i=e,this},this.serverMessagesInterceptor=["$q","growl",function(e,t){function o(e){void 0!==e&&e.data&&e.data[n]&&e.data[n].length>0&&t.addServerMessages(e.data[n])}return{response:function(e){return o(e),e},responseError:function(n){return o(n),e.reject(n)}}}],this.$get=["$rootScope","$interpolate","$sce","$filter","$timeout","growlMessages",function(n,g,m,v,y,b){function w(e){if(x&&e.translateMessage)e.text=x(e.text,e.variables)||e.text,e.title=x(e.title)||e.title;else{var t=g(e.text);e.text=t(e.variables)}var o=b.addMessage(e);return n.$broadcast("growlMessage",e),y(function(){},0),o}function $(n,t,o){var r,i=t||{};return r={text:n,title:i.title,severity:o,ttl:i.ttl||e[o],variables:i.variables||{},disableCloseButton:void 0===i.disableCloseButton?c:i.disableCloseButton,disableIcons:void 0===i.disableIcons?d:i.disableIcons,disableCountDown:void 0===i.disableCountDown?f:i.disableCountDown,position:i.position||u,referenceId:i.referenceId||l,translateMessage:void 0===i.translateMessage?h:i.translateMessage,destroy:function(){b.deleteMessage(r)},setText:function(e){r.text=m.trustAsHtml(String(e))},onclose:i.onclose,onopen:i.onopen},w(r)}var x;b.onlyUnique=i,b.reverseOrder=p;try{x=v("translate")}catch(e){}return{warning:function(e,n){return $(e,n,"warning")},error:function(e,n){return $(e,n,"error")},info:function(e,n){return $(e,n,"info")},success:function(e,n){return $(e,n,"success")},general:function(e,n,t){return t=(t||"error").toLowerCase(),$(e,n,t)},addServerMessages:function(e){if(e&&e.length){var n,i,l,s;for(s=e.length,n=0;s>n;n++)if((i=e[n])[t]){l=(i[r]||"error").toLowerCase();var u={};u.variables=i[a]||{},u.title=i[o],$(i[t],u,l)}}},onlyUnique:function(){return i},reverseOrder:function(){return p},inlineMessages:function(){return s},position:function(){return u}}}]}),angular.module("angular-growl").service("growlMessages",["$sce","$timeout",function(e,n){"use strict";function t(e){return i[e]?i[e]:i[e]={messages:[]}}function o(e){var n=e||0;return r.directives[n]||i[n]}var r=this;this.directives={};var i={};this.initDirective=function(e,n){return i[e]?(this.directives[e]=i[e],this.directives[e].limitMessages=n):this.directives[e]={messages:[],limitMessages:n},this.directives[e]},this.getAllMessages=function(e){return o(e=e||0)?o(e).messages:[]},this.destroyAllMessages=function(e){for(var n=this.getAllMessages(e),t=n.length-1;t>=0;t--)n[t].destroy();var r=o(e);r&&(r.messages=[])},this.addMessage=function(o){var r,i,a,l;if(r=this.directives[o.referenceId]?this.directives[o.referenceId]:t(o.referenceId),i=r.messages,!this.onlyUnique||(angular.forEach(i,function(n){l=e.getTrustedHtml(n.text),o.text===l&&o.severity===n.severity&&o.title===n.title&&(a=!0)}),!a)){if(o.text=e.trustAsHtml(String(o.text)),o.ttl&&-1!==o.ttl&&(o.countdown=o.ttl/1e3,o.promises=[],o.close=!1,o.countdownFunction=function(){o.countdown>1?(o.countdown--,o.promises.push(n(o.countdownFunction,1e3))):o.countdown--}),angular.isDefined(r.limitMessages)){var s=i.length-(r.limitMessages-1);s>0&&i.splice(r.limitMessages-1,s)}if(this.reverseOrder?i.unshift(o):i.push(o),"function"==typeof o.onopen&&o.onopen(),o.ttl&&-1!==o.ttl){var u=this;o.promises.push(n(angular.bind(this,function(){u.deleteMessage(o)}),o.ttl)),o.promises.push(n(o.countdownFunction,1e3))}return o}},this.deleteMessage=function(e){var n=this.getAllMessages(e.referenceId),t=n.indexOf(e);t>-1&&(n[t].close=!0,n.splice(t,1)),"function"==typeof e.onclose&&e.onclose()}}]),function(){"use strict";angular.module("base64",[]).constant("$base64",function(){function e(e,n){var t=o.indexOf(e.charAt(n));if(-1==t)throw"Cannot decode base64";return t}function n(e,n){var t=e.charCodeAt(n);if(t>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return t}var t="=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:function(e){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var r,i,a=[],l=(e=""+e).length-e.length%3;if(0==e.length)return e;for(r=0;l>r;r+=3)i=n(e,r)<<16|n(e,r+1)<<8|n(e,r+2),a.push(o.charAt(i>>18)),a.push(o.charAt(63&i>>12)),a.push(o.charAt(63&i>>6)),a.push(o.charAt(63&i));switch(e.length-l){case 1:i=n(e,r)<<16,a.push(o.charAt(i>>18)+o.charAt(63&i>>12)+t+t);break;case 2:i=n(e,r)<<16|n(e,r+1)<<8,a.push(o.charAt(i>>18)+o.charAt(63&i>>12)+o.charAt(63&i>>6)+t)}return a.join("")},decode:function(n){var o,r,i,a=(n=""+n).length;if(0==a)return n;if(0!=a%4)throw"Cannot decode base64";o=0,n.charAt(a-1)==t&&(o=1,n.charAt(a-2)==t&&(o=2),a-=4);var l=[];for(r=0;a>r;r+=4)i=e(n,r)<<18|e(n,r+1)<<12|e(n,r+2)<<6|e(n,r+3),l.push(String.fromCharCode(i>>16,255&i>>8,255&i));switch(o){case 1:i=e(n,r)<<18|e(n,r+1)<<12|e(n,r+2)<<6,l.push(String.fromCharCode(i>>16,255&i>>8));break;case 2:i=e(n,r)<<18|e(n,r+1)<<12,l.push(String.fromCharCode(i>>16))}return l.join("")}}}())}(),function(e){angular.module("ui.bootstrap.contextMenu",[]).service("CustomService",function(){"use strict";return{initialize:function(e){console.log("got here",e)}}}).directive("contextMenu",["$parse","$q","CustomService","$sce",function(n,t,o,r){function i(n){var o=n.$scope,r=n.item,i=n.event,a=n.modelValue,l=n.$promises,s=n.nestedMenu,u=n.$li,c="left"===String(n.orientation).toLowerCase(),d=null;if(r.html)d=angular.isFunction(r.html)?r.html(o):r.html;else{var p=e("<a>"),f={};c?(f.textAlign="right",f.paddingLeft="8px"):(f.textAlign="left",f.paddingRight="8px"),p.css(f),p.attr({tabindex:"-1",href:"#"});var h=r[0],g=w;"string"==typeof h?g=h:"function"==typeof h?g=h.call(o,o,i,a):void 0!==r.text&&(g=r.text);var m=t.when(g);l.push(m),m.then(function(n){if(s){var t,o={fontFamily:"monospace",fontWeight:"bold"};c?(t="&lt;",o.float="left"):(t="&gt;",o.float="right");var r=e('<strong style="font-family:monospace;font-weight:bold;float:right;">'+t+"</strong>");r.css(o),p.css("cursor","default"),p.append(r)}p.append(n)}),d=p}u.append(d)}function a(e){var n=s(e),t=angular.extend({},e);t.nestedMenu=n,t.enabled=p(t),t.text=i(t),l(t)}function l(n){var o=n.item,r=n.$ul,i=n.$li,a=n.$scope,l=n.modelValue,s=n.level,c=n.event,d=n.text,p=n.nestedMenu,f=n.enabled,g=String(n.orientation).toLowerCase();if(f){var m=function(e){h(s+1);var n={pageX:"left"===g?c.pageX-r[0].offsetWidth+1:c.pageX+r[0].offsetWidth-1,pageY:r[0].offsetTop+i[0].offsetTop-3,view:c.view||window,target:c.target,event:e};t.when(p).then(function(e){u({$scope:a,event:n,options:e,modelValue:l,level:s+1,orientation:g})})};i.on("click",function(n){1==n.which&&(n.preventDefault(),a.$apply(function(){e(c.currentTarget).removeClass("context"),v();var n=angular.isFunction(o.click)?o.click:angular.isFunction(o[1])?o[1]:null;n&&n.call(a,a,c,l,d,i)}))}),i.on("mouseover",function(e){a.$apply(function(){p?m(e):h(s+1)})})}else i.on("click",function(e){e.preventDefault()}),i.addClass("disabled")}function s(e){var n=e.item;return n.children?angular.isFunction(n.children)?n.children():angular.isFunction(n.children.then)||angular.isArray(n.children)?n.children:null:angular.isArray(n[1])||n[1]&&angular.isFunction(n[1].then)?n[1]:angular.isArray(n[2])||n[2]&&angular.isFunction(n[2].then)?n[2]:angular.isArray(n[3])||n[3]&&angular.isFunction(n[3].then)?n[3]:null}function u(n){n.$scope,n.event;var t=n.options,r=(n.modelValue,n.level,n.customClass,d(n));n.$ul=r,y.push(r);var i=[];n.$promises=i,angular.forEach(t,function(t){var i=e("<li>");if(null===t)i.addClass("divider");else if("object"==typeof t[0])o.initialize(i,t);else{var l=angular.extend({},n);l.item=t,l.$li=i,a(l)}r.append(i)}),e(document).find("body").append(r),c(n)}function c(e){var n=e.$ul,o=e.$promises,r=e.level,i=e.event,a="left"===String(e.orientation).toLowerCase();t.all(o).then(function(){var e=i.pageY,t=angular.element(n[0]).prop("offsetHeight"),o=window.scrollY+i.view.innerHeight;if(e>t&&o-e<t+20)e=i.pageY-t,r&&r>0&&(e+=i.event.currentTarget.offsetHeight);else if(o<=t)angular.element(n[0]).css({height:o-5,"overflow-y":"scroll"}),e=0;else if(o-e<t){var l=5;e<l&&(l=e),e=o-t-l}var s=i.pageX,u=angular.element(n[0]).prop("offsetWidth"),c=i.view.innerWidth;if(a)c-s>u&&s<u+5?s=5:s<u?(c-s<(d=5)+5&&(d=c-s+5),s=u+d+5):s-=u;else if(s>u&&c-s-5<u)s=c-u-5;else if(c-s<u){var d=5;s<d+5&&(d=s+5),s=c-u-d-5}n.css({display:"block",position:"absolute",left:s+"px",top:e+"px"})})}function d(n){var t=n.customClass,o=e("<ul>");return o.addClass("dropdown-menu"),o.attr({role:"menu"}),o.css({display:"block",position:"absolute",left:n.event.pageX+"px",top:n.event.pageY+"px","z-index":1e4}),t&&o.addClass(t),o}function p(e){var n=e.item,t=e.$scope,o=e.event,r=e.modelValue,i=e.text;return void 0!==n.enabled?n.enabled.call(t,t,o,r,i):"function"!=typeof n[2]||n[2].call(t,t,o,r,i)}function f(){return"ontouchstart"in window||navigator.maxTouchPoints}function h(e){for(;y.length&&(!e||y.length>e);)y.pop().remove()}function g(e){v(e)}function m(n){for(var t=e(n.target),o=!0;t.length;){if(t.hasClass("dropdown-menu")){o=!1;break}t=t.parent()}o&&v(n)}function v(n){e(document.body).off("mousedown",m),e(document).off("scroll",g),e(b).removeClass("context"),h()}var y=[],b=null,w="New Item";return function(n,t,o){var r="contextmenu";o.contextMenuOn&&"string"==typeof o.contextMenuOn&&(r=o.contextMenuOn),t.on(r,function(r){if(o.allowEventPropagation||(r.stopPropagation(),r.preventDefault()),f()&&"true"===t.attr("draggable"))return!1;e(document.body).on("mousedown",m),e(document).on("scroll",g),b=r.currentTarget,e(b).addClass("context"),n.$apply(function(){var e=n.$eval(o.contextMenu),t=o.contextMenuClass,i=n.$eval(o.model),a=o.contextMenuOrientation,l={$scope:n,event:r,options:e,modelValue:i,level:0,customClass:t,orientation:a};if(!(e instanceof Array))throw'"'+o.contextMenu+'" not an array';0!==e.length&&u(l)}),n.$on("$destroy",function(){v()})})}}])}(window.angular.element),function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Sweetalert2=n()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null,useRejections:!0},n=function(e){var n={};for(var t in e)n[e[t]]="swal2-"+e[t];return n},t=n(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),o=n(["success","warning","info","question","error"]),r=function(e,n){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),n=n||0;for(var t="#",o=0;o<3;o++){var r=parseInt(e.substr(2*o,2),16);t+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*n),255)).toString(16))).substr(r.length)}return t},i=function(e){var n=[];for(var t in e)-1===n.indexOf(e[t])&&n.push(e[t]);return n},a={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},l=function(e){var n=u();if(n&&n.parentNode.removeChild(n),"undefined"!=typeof document){var o=document.createElement("div");o.className=t.container,o.innerHTML=s,("string"==typeof e.target?document.querySelector(e.target):e.target).appendChild(o);var r=c(),i=T(r,t.input),a=T(r,t.file),l=r.querySelector("."+t.range+" input"),d=r.querySelector("."+t.range+" output"),p=T(r,t.select),f=r.querySelector("."+t.checkbox+" input"),h=T(r,t.textarea);return i.oninput=function(){U.resetValidationError()},i.onkeydown=function(n){setTimeout(function(){13===n.keyCode&&e.allowEnterKey&&(n.stopPropagation(),U.clickConfirm())},0)},a.onchange=function(){U.resetValidationError()},l.oninput=function(){U.resetValidationError(),d.value=l.value},l.onchange=function(){U.resetValidationError(),l.previousSibling.value=l.value},p.onchange=function(){U.resetValidationError()},f.onchange=function(){U.resetValidationError()},h.oninput=function(){U.resetValidationError()},r}console.error("SweetAlert2 requires document to initialize")},s=('\n <div role="dialog" aria-labelledby="'+t.title+'" aria-describedby="'+t.content+'" class="'+t.modal+'" tabindex="-1">\n   <ul class="'+t.progresssteps+'"></ul>\n   <div class="'+t.icon+" "+o.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+t.icon+" "+o.question+'">?</div>\n   <div class="'+t.icon+" "+o.warning+'">!</div>\n   <div class="'+t.icon+" "+o.info+'">i</div>\n   <div class="'+t.icon+" "+o.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+t.image+'" />\n   <h2 class="'+t.title+'" id="'+t.title+'"></h2>\n   <div id="'+t.content+'" class="'+t.content+'"></div>\n   <input class="'+t.input+'" />\n   <input type="file" class="'+t.file+'" />\n   <div class="'+t.range+'">\n     <output></output>\n     <input type="range" />\n   </div>\n   <select class="'+t.select+'"></select>\n   <div class="'+t.radio+'"></div>\n   <label for="'+t.checkbox+'" class="'+t.checkbox+'">\n     <input type="checkbox" />\n   </label>\n   <textarea class="'+t.textarea+'"></textarea>\n   <div class="'+t.validationerror+'"></div>\n   <div class="'+t.buttonswrapper+'">\n     <button type="button" class="'+t.confirm+'">OK</button>\n     <button type="button" class="'+t.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+t.close+'" aria-label="Close this dialog"></button>\n </div>\n').replace(/(^|\n)\s*/g,""),u=function(){return document.body.querySelector("."+t.container)},c=function(){return u()?u().querySelector("."+t.modal):null},d=function(){return c().querySelectorAll("."+t.icon)},p=function(e){return u()?u().querySelector("."+e):null},f=function(){return p(t.title)},h=function(){return p(t.content)},g=function(){return p(t.image)},m=function(){return p(t.buttonswrapper)},v=function(){return p(t.progresssteps)},y=function(){return p(t.validationerror)},b=function(){return p(t.confirm)},w=function(){return p(t.cancel)},$=function(){return p(t.close)},x=function(e){var n=[b(),w()];e&&n.reverse();var t=Array.from(c().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e,n){return e=parseInt(e.getAttribute("tabindex")),n=parseInt(n.getAttribute("tabindex")),e>n?1:e<n?-1:0}),o=Array.prototype.slice.call(c().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));return i(n.concat(t,o))},C=function(e,n){return!!e.classList&&e.classList.contains(n)},S=function(e){if(e.focus(),"file"!==e.type){var n=e.value;e.value="",e.value=n}},E=function(e,n){e&&n&&n.split(/\s+/).filter(Boolean).forEach(function(n){e.classList.add(n)})},N=function(e,n){e&&n&&n.split(/\s+/).filter(Boolean).forEach(function(n){e.classList.remove(n)})},T=function(e,n){for(var t=0;t<e.childNodes.length;t++)if(C(e.childNodes[t],n))return e.childNodes[t]},A=function(e,n){n||(n="block"),e.style.opacity="",e.style.display=n},k=function(e){e.style.opacity="",e.style.display="none"},M=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},O=function(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length},D=function(e,n){e.style.removeProperty?e.style.removeProperty(n):e.style.removeAttribute(n)},V=function(e){if(!O(e))return!1;if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(n)}else if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},H=function(){var e=document.createElement("div"),n={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var t in n)if(n.hasOwnProperty(t)&&void 0!==e.style[t])return n[t];return!1}(),B=function(){if(window.onkeydown=a.previousWindowKeyDown,a.previousActiveElement&&a.previousActiveElement.focus){var e=window.scrollX,n=window.scrollY;a.previousActiveElement.focus(),e&&n&&window.scrollTo(e,n)}},I=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n},P=function(e,n){var t=void 0;return function(){clearTimeout(t),t=setTimeout(function(){t=null,e()},n)}},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},q=L({},e),Y=[],X=void 0,_=function(e){("string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(console.warn('SweetAlert2: Target parameter is not valid, defaulting to "body"'),e.target="body");var n=void 0,r=c(),i="string"==typeof e.target?document.querySelector(e.target):e.target;n=r&&i&&r.parentNode!==i.parentNode?l(e):r||l(e);for(var a in e)U.isValidParameter(a)||console.warn('SweetAlert2: Unknown parameter "'+a+'"');n.style.width="number"==typeof e.width?e.width+"px":e.width,n.style.padding=e.padding+"px",n.style.background=e.background;for(var s=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),u=0;u<s.length;u++)s[u].style.background=e.background;var p=f(),y=h(),x=m(),C=b(),S=w(),T=$();if(e.titleText?p.innerText=e.titleText:p.innerHTML=e.title.split("\n").join("<br />"),e.text||e.html){if("object"===j(e.html))if(y.innerHTML="",0 in e.html)for(var O=0;O in e.html;O++)y.appendChild(e.html[O].cloneNode(!0));else y.appendChild(e.html.cloneNode(!0));else e.html?y.innerHTML=e.html:e.text&&(y.textContent=e.text);A(y)}else k(y);e.showCloseButton?A(T):k(T),n.className=t.modal,e.customClass&&E(n,e.customClass);var V=v(),H=parseInt(null===e.currentProgressStep?U.getQueueStep():e.currentProgressStep,10);e.progressSteps.length?(A(V),M(V),H>=e.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(n,o){var r=document.createElement("li");if(E(r,t.progresscircle),r.innerHTML=n,o===H&&E(r,t.activeprogressstep),V.appendChild(r),o!==e.progressSteps.length-1){var i=document.createElement("li");E(i,t.progressline),i.style.width=e.progressStepsDistance,V.appendChild(i)}})):k(V);for(var B=d(),I=0;I<B.length;I++)k(B[I]);if(e.type){var P=!1;for(var L in o)if(e.type===L){P=!0;break}if(!P)return console.error("SweetAlert2: Unknown alert type: "+e.type),!1;var q=n.querySelector("."+t.icon+"."+o[e.type]);if(A(q),e.animation)switch(e.type){case"success":E(q,"swal2-animate-success-icon"),E(q.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),E(q.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":E(q,"swal2-animate-error-icon"),E(q.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var Y=g();e.imageUrl?(Y.setAttribute("src",e.imageUrl),A(Y),e.imageWidth?Y.setAttribute("width",e.imageWidth):Y.removeAttribute("width"),e.imageHeight?Y.setAttribute("height",e.imageHeight):Y.removeAttribute("height"),Y.className=t.image,e.imageClass&&E(Y,e.imageClass)):k(Y),e.showCancelButton?S.style.display="inline-block":k(S),e.showConfirmButton?D(C,"display"):k(C),e.showConfirmButton||e.showCancelButton?A(x):k(x),C.innerHTML=e.confirmButtonText,S.innerHTML=e.cancelButtonText,e.buttonsStyling&&(C.style.backgroundColor=e.confirmButtonColor,S.style.backgroundColor=e.cancelButtonColor),C.className=t.confirm,E(C,e.confirmButtonClass),S.className=t.cancel,E(S,e.cancelButtonClass),e.buttonsStyling?(E(C,t.styled),E(S,t.styled)):(N(C,t.styled),N(S,t.styled),C.style.backgroundColor=C.style.borderLeftColor=C.style.borderRightColor="",S.style.backgroundColor=S.style.borderLeftColor=S.style.borderRightColor=""),!0===e.animation?N(n,t.noanimation):E(n,t.noanimation),e.showLoaderOnConfirm&&!e.preConfirm&&console.warn("SweetAlert2: showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://limonte.github.io/sweetalert2/#ajax-request")},z=function(e,n){var o=u(),r=c();e?(E(r,t.show),E(o,t.fade),N(r,t.hide)):N(r,t.fade),A(r),o.style.overflowY="hidden",H&&!C(r,t.noanimation)?r.addEventListener(H,function e(){r.removeEventListener(H,e),o.style.overflowY="auto"}):o.style.overflowY="auto",E(document.documentElement,t.shown),E(document.body,t.shown),E(o,t.shown),F(),K(),a.previousActiveElement=document.activeElement,null!==n&&"function"==typeof n&&setTimeout(function(){n(r)})},F=function(){null===a.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(a.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=I()+"px")},R=function(){null!==a.previousBodyPadding&&(document.body.style.paddingRight=a.previousBodyPadding,a.previousBodyPadding=null)},K=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!C(document.body,t.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",E(document.body,t.iosfix)}},W=function(){if(C(document.body,t.iosfix)){var e=parseInt(document.body.style.top,10);N(document.body,t.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},U=function e(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if(void 0===o[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var l=L({},q);switch(j(o[0])){case"string":l.title=o[0],l.html=o[1],l.type=o[2];break;case"object":L(l,o[0]),l.extraParams=o[0].extraParams,"email"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(n,t){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?n():t("Invalid email address")})}),"url"===l.input&&null===l.inputValidator&&(l.inputValidator=function(e){return new Promise(function(n,t){/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e)?n():t("Invalid URL")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected "string" or "object", got '+j(o[0])),!1}_(l);var s=u(),d=c();return new Promise(function(n,o){l.timer&&(d.timeout=setTimeout(function(){e.closeModal(l.onClose),l.useRejections?o("timer"):n({dismiss:"timer"})},l.timer));var i=function(e){if(!(e=e||l.input))return null;switch(e){case"select":case"textarea":case"file":return T(d,t[e]);case"checkbox":return d.querySelector("."+t.checkbox+" input");case"radio":return d.querySelector("."+t.radio+" input:checked")||d.querySelector("."+t.radio+" input:first-child");case"range":return d.querySelector("."+t.range+" input");default:return T(d,t.input)}},p=function(){var e=i();if(!e)return null;switch(l.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return l.inputAutoTrim?e.value.trim():e.value}};l.input&&setTimeout(function(){var e=i();e&&S(e)},0);for(var C=function(t){l.showLoaderOnConfirm&&e.showLoading(),l.preConfirm?l.preConfirm(t,l.extraParams).then(function(o){e.closeModal(l.onClose),n(o||t)},function(n){e.hideLoading(),n&&e.showValidationError(n)}):(e.closeModal(l.onClose),n(l.useRejections?t:{value:t}))},M=function(t){var i=t||window.event,a=i.target||i.srcElement,s=b(),u=w(),c=s&&(s===a||s.contains(a)),d=u&&(u===a||u.contains(a));switch(i.type){case"mouseover":case"mouseup":l.buttonsStyling&&(c?s.style.backgroundColor=r(l.confirmButtonColor,-.1):d&&(u.style.backgroundColor=r(l.cancelButtonColor,-.1)));break;case"mouseout":l.buttonsStyling&&(c?s.style.backgroundColor=l.confirmButtonColor:d&&(u.style.backgroundColor=l.cancelButtonColor));break;case"mousedown":l.buttonsStyling&&(c?s.style.backgroundColor=r(l.confirmButtonColor,-.2):d&&(u.style.backgroundColor=r(l.cancelButtonColor,-.2)));break;case"click":if(c&&e.isVisible())if(e.disableButtons(),l.input){var f=p();l.inputValidator?(e.disableInput(),l.inputValidator(f,l.extraParams).then(function(){e.enableButtons(),e.enableInput(),C(f)},function(n){e.enableButtons(),e.enableInput(),n&&e.showValidationError(n)})):C(f)}else C(!0);else d&&e.isVisible()&&(e.disableButtons(),e.closeModal(l.onClose),l.useRejections?o("cancel"):n({dismiss:"cancel"}))}},D=d.querySelectorAll("button"),H=0;H<D.length;H++)D[H].onclick=M,D[H].onmouseover=M,D[H].onmouseout=M,D[H].onmousedown=M;$().onclick=function(){e.closeModal(l.onClose),l.useRejections?o("close"):n({dismiss:"close"})},s.onclick=function(t){t.target===s&&l.allowOutsideClick&&(e.closeModal(l.onClose),l.useRejections?o("overlay"):n({dismiss:"overlay"}))};var B=m(),I=b(),L=w();l.reverseButtons?I.parentNode.insertBefore(L,I):I.parentNode.insertBefore(I,L);var q=function(e,n){for(var t=x(l.focusCancel),o=0;o<t.length;o++){(e+=n)===t.length?e=0:-1===e&&(e=t.length-1);var r=t[e];if(O(r))return r.focus()}},Y=function(t){var r=t||window.event,i=r.keyCode||r.which;if(-1!==[9,13,32,27,37,38,39,40].indexOf(i)){for(var a=r.target||r.srcElement,s=x(l.focusCancel),u=-1,c=0;c<s.length;c++)if(a===s[c]){u=c;break}9===i?(r.shiftKey?q(u,-1):q(u,1),r.stopPropagation(),r.preventDefault()):37===i||38===i||39===i||40===i?document.activeElement===I&&O(L)?L.focus():document.activeElement===L&&O(I)&&I.focus():13===i||32===i?-1===u&&l.allowEnterKey&&(V(l.focusCancel?L:I),r.stopPropagation(),r.preventDefault()):27===i&&!0===l.allowEscapeKey&&(e.closeModal(l.onClose),l.useRejections?o("esc"):n({dismiss:"esc"}))}};window.onkeydown&&window.onkeydown.toString()===Y.toString()||(a.previousWindowKeyDown=window.onkeydown,window.onkeydown=Y),l.buttonsStyling&&(I.style.borderLeftColor=l.confirmButtonColor,I.style.borderRightColor=l.confirmButtonColor),e.hideLoading=e.disableLoading=function(){l.showConfirmButton||(k(I),l.showCancelButton||k(m())),N(B,t.loading),N(d,t.loading),I.disabled=!1,L.disabled=!1},e.getTitle=function(){return f()},e.getContent=function(){return h()},e.getInput=function(){return i()},e.getImage=function(){return g()},e.getButtonsWrapper=function(){return m()},e.getConfirmButton=function(){return b()},e.getCancelButton=function(){return w()},e.enableButtons=function(){I.disabled=!1,L.disabled=!1},e.disableButtons=function(){I.disabled=!0,L.disabled=!0},e.enableConfirmButton=function(){I.disabled=!1},e.disableConfirmButton=function(){I.disabled=!0},e.enableInput=function(){var e=i();if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),t=0;t<n.length;t++)n[t].disabled=!1;else e.disabled=!1},e.disableInput=function(){var e=i();if(!e)return!1;if(e&&"radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),t=0;t<n.length;t++)n[t].disabled=!0;else e.disabled=!0},e.recalculateHeight=P(function(){var e=c();if(e){var n=e.style.display;e.style.minHeight="",A(e),e.style.minHeight=e.scrollHeight+1+"px",e.style.display=n}},50),e.showValidationError=function(e){var n=y();n.innerHTML=e,A(n);var o=i();o&&(S(o),E(o,t.inputerror))},e.resetValidationError=function(){var n=y();k(n),e.recalculateHeight();var o=i();o&&N(o,t.inputerror)},e.getProgressSteps=function(){return l.progressSteps},e.setProgressSteps=function(e){l.progressSteps=e,_(l)},e.showProgressSteps=function(){A(v())},e.hideProgressSteps=function(){k(v())},e.enableButtons(),e.hideLoading(),e.resetValidationError();for(var F=["input","file","range","select","radio","checkbox","textarea"],R=void 0,K=0;K<F.length;K++){var W=t[F[K]],U=T(d,W);if(R=i(F[K])){for(var Z in R.attributes)if(R.attributes.hasOwnProperty(Z)){var Q=R.attributes[Z].name;"type"!==Q&&"value"!==Q&&R.removeAttribute(Q)}for(var J in l.inputAttributes)R.setAttribute(J,l.inputAttributes[J])}U.className=W,l.inputClass&&E(U,l.inputClass),k(U)}var G=void 0;switch(l.input){case"text":case"email":case"password":case"number":case"tel":case"url":(R=T(d,t.input)).value=l.inputValue,R.placeholder=l.inputPlaceholder,R.type=l.input,A(R);break;case"file":(R=T(d,t.file)).placeholder=l.inputPlaceholder,R.type=l.input,A(R);break;case"range":var ee=T(d,t.range),ne=ee.querySelector("input"),te=ee.querySelector("output");ne.value=l.inputValue,ne.type=l.input,te.value=l.inputValue,A(ee);break;case"select":var oe=T(d,t.select);if(oe.innerHTML="",l.inputPlaceholder){var re=document.createElement("option");re.innerHTML=l.inputPlaceholder,re.value="",re.disabled=!0,re.selected=!0,oe.appendChild(re)}G=function(e){for(var n in e){var t=document.createElement("option");t.value=n,t.innerHTML=e[n],l.inputValue===n&&(t.selected=!0),oe.appendChild(t)}A(oe),oe.focus()};break;case"radio":var ie=T(d,t.radio);ie.innerHTML="",G=function(e){for(var n in e){var o=document.createElement("input"),r=document.createElement("label"),i=document.createElement("span");o.type="radio",o.name=t.radio,o.value=n,l.inputValue===n&&(o.checked=!0),i.innerHTML=e[n],r.appendChild(o),r.appendChild(i),r.for=o.id,ie.appendChild(r)}A(ie);var a=ie.querySelectorAll("input");a.length&&a[0].focus()};break;case"checkbox":var ae=T(d,t.checkbox),le=i("checkbox");le.type="checkbox",le.value=1,le.id=t.checkbox,le.checked=Boolean(l.inputValue);var se=ae.getElementsByTagName("span");se.length&&ae.removeChild(se[0]),(se=document.createElement("span")).innerHTML=l.inputPlaceholder,ae.appendChild(se),A(ae);break;case"textarea":var ue=T(d,t.textarea);ue.value=l.inputValue,ue.placeholder=l.inputPlaceholder,A(ue);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+l.input+'"')}"select"!==l.input&&"radio"!==l.input||(l.inputOptions instanceof Promise?(e.showLoading(),l.inputOptions.then(function(n){e.hideLoading(),G(n)})):"object"===j(l.inputOptions)?G(l.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+j(l.inputOptions))),z(l.animation,l.onOpen),l.allowEnterKey?q(-1,1):document.activeElement&&document.activeElement.blur(),u().scrollTop=0,"undefined"==typeof MutationObserver||X||(X=new MutationObserver(e.recalculateHeight)).observe(d,{childList:!0,characterData:!0,subtree:!0})})};return U.isVisible=function(){return!!c()},U.queue=function(e){Y=e;var n=function(){Y=[],document.body.removeAttribute("data-swal2-queue-step")},t=[];return new Promise(function(e,o){!function r(i,a){i<Y.length?(document.body.setAttribute("data-swal2-queue-step",i),U(Y[i]).then(function(e){t.push(e),r(i+1,a)},function(e){n(),o(e)})):(n(),e(t))}(0)})},U.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},U.insertQueueStep=function(e,n){return n&&n<Y.length?Y.splice(n,0,e):Y.push(e)},U.deleteQueueStep=function(e){void 0!==Y[e]&&Y.splice(e,1)},U.close=U.closeModal=function(e){var n=u(),o=c();if(o){N(o,t.show),E(o,t.hide),clearTimeout(o.timeout),B();var r=function(){n.parentNode&&n.parentNode.removeChild(n),N(document.documentElement,t.shown),N(document.body,t.shown),R(),W()};H&&!C(o,t.noanimation)?o.addEventListener(H,function e(){o.removeEventListener(H,e),C(o,t.hide)&&r()}):r(),null!==e&&"function"==typeof e&&setTimeout(function(){e(o)})}},U.clickConfirm=function(){return b().click()},U.clickCancel=function(){return w().click()},U.showLoading=U.enableLoading=function(){var e=c();e||U("");var n=m(),o=b(),r=w();A(n),A(o,"inline-block"),E(n,t.loading),E(e,t.loading),o.disabled=!0,r.disabled=!0},U.isValidParameter=function(n){return e.hasOwnProperty(n)||"extraParams"===n},U.setDefaults=function(e){if(!e||"object"!==(void 0===e?"undefined":j(e)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var n in e)U.isValidParameter(n)||(console.warn('SweetAlert2: Unknown parameter "'+n+'"'),delete e[n]);L(q,e)},U.resetDefaults=function(){q=L({},e)},U.noop=function(){},U.version="6.6.10",U.default=U,U}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);
